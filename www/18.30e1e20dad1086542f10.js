(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"3F3D":function(n,l,u){"use strict";u.r(l);var o=u("CcnG"),t=u("mrSG"),i=u("mS9Q"),e=u("gIcY"),a=u("sY96"),s=u("ZZ/e"),r=function(){function n(n,l,u,o){this.toastCtrl=n,this.accountManager=l,this.router=u,this.formBuilder=o,this.change=!1,this.accountID="",this.validation_messages={password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 5 characters long."},{type:"pattern",message:"Your password must contain at least one uppercase, one lowercase, and one number."}],confirm_password:[{type:"required",message:"Confirm password is required."}],matching_passwords:[{type:"areEqual",message:"Password mismatch."}]}}return n.prototype.ngOnInit=function(){return t.b(this,void 0,void 0,function(){var n=this;return t.e(this,function(l){switch(l.label){case 0:return[4,this.accountManager.getDatabase().get("login").then(function(l){n.accountID=l,console.log("accid:"+l)}).catch(function(n){console.log("getting login info error: ",n)})];case 1:return l.sent(),""!=this.accountID&&null!=this.accountID||this.router.navigate(["/login"]),this.matching_passwords_group=new e.e({password:new e.c("",e.o.compose([e.o.minLength(5),e.o.required,e.o.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$")])),confirm_password:new e.c("",e.o.required)},function(n){return a.a.areEqual(n)}),this.validations_form=this.formBuilder.group({matching_passwords:this.matching_passwords_group}),[2]}})})},n.prototype.clearEverything=function(){this.accountManager.clearAll()},n.prototype.logout=function(){this.accountManager.logout(),this.router.navigate(["/home"])},n.prototype.changePassword=function(){this.change=!0},n.prototype.dashboard=function(){this.router.navigate(["/dashboard"])},n.prototype.onSubmit=function(n){return t.b(this,void 0,void 0,function(){var l;return t.e(this,function(u){switch(u.label){case 0:return[4,this.accountManager.changePassword(this.username,this.accountID,this.oldPassword,n.matching_passwords.password)];case 1:return l=u.sent(),this.username="",this.change=!1,l?this.toastCtrl.create({message:"SUCCESSFUL PASSWORD CHANGE!",duration:2e3,color:"success"}).then(function(n){n.present()}):this.toastCtrl.create({message:"UNSUCCESSFUL PASSWORD CHANGE!",duration:2e3,color:"danger"}).then(function(n){n.present()}),[2]}})})},n}(),b=function(){return function(){}}(),c=u("pMnS"),g=u("oBZk"),d=u("Ip0R"),p=u("ZYCi"),m=o.mb({encapsulation:0,styles:[[""]],data:{animation:[{type:7,name:"message",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:"0"},offset:null},{type:4,styles:{type:6,styles:{opacity:"1"},offset:null},timings:"500ms 1000ms ease-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{opacity:"0"},offset:null},timings:"500ms ease-in"}],options:null}],options:{}}]}});function h(n){return o.Db(0,[(n()(),o.ob(0,0,null,null,3,"div",[["class","error-message"]],null,null,null,null,null)),(n()(),o.ob(1,0,null,null,1,"ion-icon",[["name","information-circle-outline"]],null,null,null,g.H,g.m)),o.nb(2,49152,null,0,s.A,[o.h,o.k],{name:[0,"name"]},null),(n()(),o.Cb(3,null,[" "," "]))],function(n,l){n(l,2,0,"information-circle-outline")},function(n,l){n(l,3,0,l.parent.context.$implicit.message)})}function f(n){return o.Db(0,[(n()(),o.ob(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.fb(16777216,null,null,1,null,h)),o.nb(2,16384,null,0,d.i,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(n()(),o.fb(0,null,null,0))],function(n,l){var u=l.component;n(l,2,0,u.validations_form.get("matching_passwords").get("password").hasError(l.context.$implicit.type)&&(u.validations_form.get("matching_passwords").get("password").dirty||u.validations_form.get("matching_passwords").get("password").touched))},null)}function y(n){return o.Db(0,[(n()(),o.ob(0,0,null,null,3,"div",[["class","error-message"]],null,null,null,null,null)),(n()(),o.ob(1,0,null,null,1,"ion-icon",[["name","information-circle-outline"]],null,null,null,g.H,g.m)),o.nb(2,49152,null,0,s.A,[o.h,o.k],{name:[0,"name"]},null),(n()(),o.Cb(3,null,[" "," "]))],function(n,l){n(l,2,0,"information-circle-outline")},function(n,l){n(l,3,0,l.parent.context.$implicit.message)})}function v(n){return o.Db(0,[(n()(),o.ob(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.fb(16777216,null,null,1,null,y)),o.nb(2,16384,null,0,d.i,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(n()(),o.fb(0,null,null,0))],function(n,l){var u=l.component;n(l,2,0,u.validations_form.get("matching_passwords").get("confirm_password").hasError(l.context.$implicit.type)&&(u.validations_form.get("matching_passwords").get("confirm_password").dirty||u.validations_form.get("matching_passwords").get("confirm_password").touched))},null)}function w(n){return o.Db(0,[(n()(),o.ob(0,0,null,null,3,"div",[["class","error-message"]],null,null,null,null,null)),(n()(),o.ob(1,0,null,null,1,"ion-icon",[["name","information-circle-outline"]],null,null,null,g.H,g.m)),o.nb(2,49152,null,0,s.A,[o.h,o.k],{name:[0,"name"]},null),(n()(),o.Cb(3,null,[" "," "]))],function(n,l){n(l,2,0,"information-circle-outline")},function(n,l){n(l,3,0,l.parent.context.$implicit.message)})}function C(n){return o.Db(0,[(n()(),o.ob(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.fb(16777216,null,null,1,null,w)),o.nb(2,16384,null,0,d.i,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(n()(),o.fb(0,null,null,0))],function(n,l){var u=l.component;n(l,2,0,u.validations_form.get("matching_passwords").hasError(l.context.$implicit.type)&&(u.validations_form.get("matching_passwords").get("confirm_password").dirty||u.validations_form.get("matching_passwords").get("confirm_password").touched))},null)}function _(n){return o.Db(0,[(n()(),o.ob(0,0,null,null,69,"div",[],null,null,null,null,null)),(n()(),o.ob(1,0,null,null,11,"ion-item",[],null,null,null,g.J,g.o)),o.nb(2,49152,null,0,s.F,[o.h,o.k],null,null),(n()(),o.ob(3,0,null,0,2,"ion-label",[["color","primary"],["position","floating"]],null,null,null,g.K,g.p)),o.nb(4,49152,null,0,s.L,[o.h,o.k],{color:[0,"color"],position:[1,"position"]},null),(n()(),o.Cb(-1,0,["Username"])),(n()(),o.ob(6,0,null,0,6,"ion-input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,u){var t=!0,i=n.component;return"ionBlur"===l&&(t=!1!==o.yb(n,7)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,7)._handleInputEvent(u.target.value)&&t),"ngModelChange"===l&&(t=!1!==(i.username=u)&&t),t},g.I,g.n)),o.nb(7,16384,null,0,s.Jb,[o.k],null,null),o.zb(1024,null,e.i,function(n){return[n]},[s.Jb]),o.nb(9,671744,null,0,e.m,[[8,null],[8,null],[8,null],[6,e.i]],{model:[0,"model"]},{update:"ngModelChange"}),o.zb(2048,null,e.j,null,[e.m]),o.nb(11,16384,null,0,e.k,[[4,e.j]],null,null),o.nb(12,49152,null,0,s.E,[o.h,o.k],{type:[0,"type"]},null),(n()(),o.ob(13,0,null,null,11,"ion-item",[],null,null,null,g.J,g.o)),o.nb(14,49152,null,0,s.F,[o.h,o.k],null,null),(n()(),o.ob(15,0,null,0,2,"ion-label",[["color","primary"],["position","floating"]],null,null,null,g.K,g.p)),o.nb(16,49152,null,0,s.L,[o.h,o.k],{color:[0,"color"],position:[1,"position"]},null),(n()(),o.Cb(-1,0,["Old Password"])),(n()(),o.ob(18,0,null,0,6,"ion-input",[["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,u){var t=!0,i=n.component;return"ionBlur"===l&&(t=!1!==o.yb(n,19)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,19)._handleInputEvent(u.target.value)&&t),"ngModelChange"===l&&(t=!1!==(i.oldPassword=u)&&t),t},g.I,g.n)),o.nb(19,16384,null,0,s.Jb,[o.k],null,null),o.zb(1024,null,e.i,function(n){return[n]},[s.Jb]),o.nb(21,671744,null,0,e.m,[[8,null],[8,null],[8,null],[6,e.i]],{model:[0,"model"]},{update:"ngModelChange"}),o.zb(2048,null,e.j,null,[e.m]),o.nb(23,16384,null,0,e.k,[[4,e.j]],null,null),o.nb(24,49152,null,0,s.E,[o.h,o.k],{type:[0,"type"]},null),(n()(),o.ob(25,0,null,null,44,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,u){var t=!0,i=n.component;return"submit"===l&&(t=!1!==o.yb(n,27).onSubmit(u)&&t),"reset"===l&&(t=!1!==o.yb(n,27).onReset()&&t),"ngSubmit"===l&&(t=!1!==i.onSubmit(i.validations_form.value)&&t),t},null,null)),o.nb(26,16384,null,0,e.q,[],null,null),o.nb(27,540672,null,0,e.f,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),o.zb(2048,null,e.a,null,[e.f]),o.nb(29,16384,null,0,e.l,[[4,e.a]],null,null),(n()(),o.ob(30,0,null,null,33,"div",[["formGroupName","matching_passwords"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),o.nb(31,212992,null,0,e.g,[[3,e.a],[8,null],[8,null]],{name:[0,"name"]},null),o.zb(2048,null,e.a,null,[e.g]),o.nb(33,16384,null,0,e.l,[[4,e.a]],null,null),(n()(),o.ob(34,0,null,null,11,"ion-item",[],null,null,null,g.J,g.o)),o.nb(35,49152,null,0,s.F,[o.h,o.k],null,null),(n()(),o.ob(36,0,null,0,2,"ion-label",[["color","primary"],["position","floating"]],null,null,null,g.K,g.p)),o.nb(37,49152,null,0,s.L,[o.h,o.k],{color:[0,"color"],position:[1,"position"]},null),(n()(),o.Cb(-1,0,["Password"])),(n()(),o.ob(39,0,null,0,6,"ion-input",[["formControlName","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,u){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,40)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,40)._handleInputEvent(u.target.value)&&t),t},g.I,g.n)),o.nb(40,16384,null,0,s.Jb,[o.k],null,null),o.zb(1024,null,e.i,function(n){return[n]},[s.Jb]),o.nb(42,671744,null,0,e.d,[[3,e.a],[8,null],[8,null],[6,e.i],[2,e.s]],{name:[0,"name"]},null),o.zb(2048,null,e.j,null,[e.d]),o.nb(44,16384,null,0,e.k,[[4,e.j]],null,null),o.nb(45,49152,null,0,s.E,[o.h,o.k],{type:[0,"type"]},null),(n()(),o.ob(46,0,null,null,2,"div",[["class","validation-errors"]],null,null,null,null,null)),(n()(),o.fb(16777216,null,null,1,null,f)),o.nb(48,278528,null,0,d.h,[o.N,o.K,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.ob(49,0,null,null,11,"ion-item",[],null,null,null,g.J,g.o)),o.nb(50,49152,null,0,s.F,[o.h,o.k],null,null),(n()(),o.ob(51,0,null,0,2,"ion-label",[["color","primary"],["position","floating"]],null,null,null,g.K,g.p)),o.nb(52,49152,null,0,s.L,[o.h,o.k],{color:[0,"color"],position:[1,"position"]},null),(n()(),o.Cb(-1,0,["Confirm Password"])),(n()(),o.ob(54,0,null,0,6,"ion-input",[["formControlName","confirm_password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,u){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,55)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,55)._handleInputEvent(u.target.value)&&t),t},g.I,g.n)),o.nb(55,16384,null,0,s.Jb,[o.k],null,null),o.zb(1024,null,e.i,function(n){return[n]},[s.Jb]),o.nb(57,671744,null,0,e.d,[[3,e.a],[8,null],[8,null],[6,e.i],[2,e.s]],{name:[0,"name"]},null),o.zb(2048,null,e.j,null,[e.d]),o.nb(59,16384,null,0,e.k,[[4,e.j]],null,null),o.nb(60,49152,null,0,s.E,[o.h,o.k],{type:[0,"type"]},null),(n()(),o.ob(61,0,null,null,2,"div",[["class","validation-errors"]],null,null,null,null,null)),(n()(),o.fb(16777216,null,null,1,null,v)),o.nb(63,278528,null,0,d.h,[o.N,o.K,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.ob(64,0,null,null,2,"div",[["class","validation-errors"]],null,null,null,null,null)),(n()(),o.fb(16777216,null,null,1,null,C)),o.nb(66,278528,null,0,d.h,[o.N,o.K,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.ob(67,0,null,null,2,"ion-button",[["class","submit-btn"],["color","primary"],["expand","full"],["type","submit"]],null,null,null,g.w,g.b)),o.nb(68,49152,null,0,s.i,[o.h,o.k],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"],type:[3,"type"]},null),(n()(),o.Cb(-1,0,["Submit data"]))],function(n,l){var u=l.component;n(l,4,0,"primary","floating"),n(l,9,0,u.username),n(l,12,0,"text"),n(l,16,0,"primary","floating"),n(l,21,0,u.oldPassword),n(l,24,0,"password"),n(l,27,0,u.validations_form),n(l,31,0,"matching_passwords"),n(l,37,0,"primary","floating"),n(l,42,0,"password"),n(l,45,0,"password"),n(l,48,0,u.validation_messages.password),n(l,52,0,"primary","floating"),n(l,57,0,"confirm_password"),n(l,60,0,"password"),n(l,63,0,u.validation_messages.confirm_password),n(l,66,0,u.validation_messages.matching_passwords),n(l,68,0,"primary",!u.validations_form.valid,"full","submit")},function(n,l){n(l,6,0,o.yb(l,11).ngClassUntouched,o.yb(l,11).ngClassTouched,o.yb(l,11).ngClassPristine,o.yb(l,11).ngClassDirty,o.yb(l,11).ngClassValid,o.yb(l,11).ngClassInvalid,o.yb(l,11).ngClassPending),n(l,18,0,o.yb(l,23).ngClassUntouched,o.yb(l,23).ngClassTouched,o.yb(l,23).ngClassPristine,o.yb(l,23).ngClassDirty,o.yb(l,23).ngClassValid,o.yb(l,23).ngClassInvalid,o.yb(l,23).ngClassPending),n(l,25,0,o.yb(l,29).ngClassUntouched,o.yb(l,29).ngClassTouched,o.yb(l,29).ngClassPristine,o.yb(l,29).ngClassDirty,o.yb(l,29).ngClassValid,o.yb(l,29).ngClassInvalid,o.yb(l,29).ngClassPending),n(l,30,0,o.yb(l,33).ngClassUntouched,o.yb(l,33).ngClassTouched,o.yb(l,33).ngClassPristine,o.yb(l,33).ngClassDirty,o.yb(l,33).ngClassValid,o.yb(l,33).ngClassInvalid,o.yb(l,33).ngClassPending),n(l,39,0,o.yb(l,44).ngClassUntouched,o.yb(l,44).ngClassTouched,o.yb(l,44).ngClassPristine,o.yb(l,44).ngClassDirty,o.yb(l,44).ngClassValid,o.yb(l,44).ngClassInvalid,o.yb(l,44).ngClassPending),n(l,54,0,o.yb(l,59).ngClassUntouched,o.yb(l,59).ngClassTouched,o.yb(l,59).ngClassPristine,o.yb(l,59).ngClassDirty,o.yb(l,59).ngClassValid,o.yb(l,59).ngClassInvalid,o.yb(l,59).ngClassPending)})}function k(n){return o.Db(0,[(n()(),o.ob(0,0,null,null,9,"ion-header",[],null,null,null,g.G,g.l)),o.nb(1,49152,null,0,s.z,[o.h,o.k],null,null),(n()(),o.ob(2,0,null,0,7,"ion-toolbar",[],null,null,null,g.P,g.u)),o.nb(3,49152,null,0,s.zb,[o.h,o.k],null,null),(n()(),o.ob(4,0,null,0,2,"ion-button",[["left",""]],null,[[null,"click"]],function(n,l,u){var o=!0;return"click"===l&&(o=!1!==n.component.dashboard()&&o),o},g.w,g.b)),o.nb(5,49152,null,0,s.i,[o.h,o.k],null,null),(n()(),o.Cb(-1,0,[" Back "])),(n()(),o.ob(7,0,null,0,2,"ion-title",[],null,null,null,g.O,g.t)),o.nb(8,49152,null,0,s.xb,[o.h,o.k],null,null),(n()(),o.Cb(-1,0,[" Settings "])),(n()(),o.ob(10,0,null,null,15,"ion-content",[],null,null,null,g.D,g.i)),o.nb(11,49152,null,0,s.s,[o.h,o.k],null,null),(n()(),o.ob(12,0,null,0,13,"div",[["class","setting"]],null,null,null,null,null)),(n()(),o.ob(13,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(n,l,u){var o=!0;return"click"===l&&(o=!1!==n.component.changePassword()&&o),o},g.w,g.b)),o.nb(14,49152,null,0,s.i,[o.h,o.k],{expand:[0,"expand"]},null),(n()(),o.Cb(-1,0,["Change Password"])),(n()(),o.fb(16777216,null,null,1,null,_)),o.nb(17,16384,null,0,d.i,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(n()(),o.ob(18,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o.ob(19,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o.ob(20,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(n,l,u){var o=!0;return"click"===l&&(o=!1!==n.component.logout()&&o),o},g.w,g.b)),o.nb(21,49152,null,0,s.i,[o.h,o.k],{expand:[0,"expand"]},null),(n()(),o.Cb(-1,0,["Logout"])),(n()(),o.ob(23,0,null,null,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(n,l,u){var o=!0;return"click"===l&&(o=!1!==n.component.clearEverything()&&o),o},g.w,g.b)),o.nb(24,49152,null,0,s.i,[o.h,o.k],{expand:[0,"expand"]},null),(n()(),o.Cb(-1,0,["CLEAR ALL APP DATA!"]))],function(n,l){var u=l.component;n(l,14,0,"full"),n(l,17,0,u.change),n(l,21,0,"full"),n(l,24,0,"full")},null)}function P(n){return o.Db(0,[(n()(),o.ob(0,0,null,null,1,"app-settings",[],null,null,null,k,m)),o.nb(1,114688,null,0,r,[s.Kb,i.a,p.m,e.b],null,null)],function(n,l){n(l,1,0)},null)}var I=o.kb("app-settings",r,P,{},{},[]);u.d(l,"SettingsPageModuleNgFactory",function(){return D});var D=o.lb(b,[],function(n){return o.vb([o.wb(512,o.j,o.ab,[[8,[c.a,I]],[3,o.j],o.x]),o.wb(4608,d.k,d.j,[o.u,[2,d.q]]),o.wb(4608,e.r,e.r,[]),o.wb(4608,s.a,s.a,[o.z,o.g]),o.wb(4608,s.Db,s.Db,[s.a,o.j,o.q,d.c]),o.wb(4608,s.Hb,s.Hb,[s.a,o.j,o.q,d.c]),o.wb(4608,e.b,e.b,[]),o.wb(1073742336,d.b,d.b,[]),o.wb(1073742336,e.p,e.p,[]),o.wb(1073742336,e.h,e.h,[]),o.wb(1073742336,s.Bb,s.Bb,[]),o.wb(1073742336,e.n,e.n,[]),o.wb(1073742336,p.n,p.n,[[2,p.t],[2,p.m]]),o.wb(1073742336,b,b,[]),o.wb(1024,p.k,function(){return[[{path:"",component:r}]]},[])])})}}]);